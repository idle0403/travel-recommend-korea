# 🗺️ 카카오맵 API 설정 가이드

## 개요

한국 지역에 최적화된 경로 탐색을 위해 **카카오맵 API**를 통합했습니다.
**완전 무료**이며 하루 30만 쿼터를 제공합니다!

---

## 🎉 왜 카카오맵인가?

| 항목 | 카카오맵 | 네이버 | Google Maps |
|------|----------|--------|-------------|
| 무료 쿼터 | ✅ 하루 30만건 | 💰 월 10만원 크레딧 | 💰 월 $200 |
| 한국 도로망 | ✅ 완벽 | ✅ 완벽 | ❌ 제한적 |
| API 간편성 | ✅ 매우 쉬움 | ⚠️ 보통 | ⚠️ 복잡 |
| 인증 방식 | REST API 키만 | Client ID + Secret | API 키 + 결제 |
| 대중교통 | ❌ 미지원 | ❌ 미지원 | ✅ 지원 |
| 도보 경로 | ✅ 지원 | ✅ 지원 | ✅ 지원 |

**결론**: 카카오맵이 **가장 간단하고 무료**입니다! 🎊

---

## 🔑 API 키 발급 방법 (5분 소요)

### 1. 카카오 개발자 계정 생성

1. [카카오 Developers](https://developers.kakao.com/) 접속
2. 카카오 계정으로 로그인 (없으면 회원가입)
3. **내 애플리케이션** 클릭

### 2. 애플리케이션 등록

1. **애플리케이션 추가하기** 버튼 클릭
2. 정보 입력:
   - 앱 이름: `한국 여행 플래너`
   - 회사명: `개인 프로젝트` (선택사항)
3. **저장** 클릭

### 3. REST API 키 복사

1. 등록한 앱 클릭
2. **앱 키** 탭에서 **REST API 키** 복사
3. 완료! 🎉

---

## ⚙️ 환경변수 설정

프로젝트 루트에 `.env` 파일을 생성하고 다음 내용 추가:

```bash
# Google Maps API (지도 표시용)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# 카카오맵 API (경로 탐색용 - 한국 최적화)
KAKAO_REST_API_KEY=your_kakao_rest_api_key_here

# OpenAI API (AI 여행 계획)
OPENAI_API_KEY=your_openai_api_key_here
```

---

## 🚀 사용 방법

### 1. 환경변수 설정

```bash
cd /Users/jh.choi/Documents/venv/travel-recommend-korea

# .env 파일 생성 (없으면)
touch .env

# .env 파일 편집
vi .env
# 또는
nano .env

# 다음 줄 추가
KAKAO_REST_API_KEY=발급받은_REST_API_키
```

### 2. 서버 재시작

```bash
python -m uvicorn app.main:app --reload --port 8000
```

### 3. 테스트

1. 브라우저에서 http://localhost:8000 접속
2. 여행 계획 생성
3. **경로 보기** 버튼 클릭
4. **대중교통** 또는 **도보** 클릭

---

## 📊 기능 정리

### ✅ 지원되는 기능

| 기능 | 사용 API | 상태 |
|------|----------|------|
| 지도 표시 | Google Maps | ✅ 작동 |
| 대중교통 경로 | Google Maps | ✅ 작동 |
| 도보 경로 | 카카오맵 | ✅ 작동 |
| 자동차 경로 | 카카오맵 | ⚠️ 준비 중 |

### ⚠️ 현재 전략

- **대중교통**: Google Maps 사용 (카카오맵 미지원)
- **도보**: 카카오맵 우선, 실패 시 간단한 거리 계산
- **자동차**: 버튼 제거 (Google Maps 한국 제한)

---

## 🎯 예상 결과

### 대중교통 버튼 클릭 시

```
🚇 대중교통 (Google Maps 실제 경로)

총 거리: 12.5km
총 소요시간: 35분

🚇 9호선
마곡나루역 → 여의도역
5개 정류장 • 12분

🚶 도보 200m (3분)

🚇 5호선
여의도역 → 광화문역
3개 정류장 • 8분
```

### 도보 버튼 클릭 시

```
🚶 도보

거리: 1.2km
시간: 15분
```

---

## 💰 비용 비교

### 카카오맵 (추천 ⭐)
- **무료 쿼터**: 하루 30만건
- **개인 프로젝트**: 완전 무료
- **상용 서비스**: 초과분만 과금

### 네이버
- **무료 크레딧**: 매월 10만원
- **초과 시**: 과금
- **개인 프로젝트**: 사실상 무료

### Google Maps
- **무료 크레딧**: 월 $200
- **경로 조회**: 1,000회당 $5
- **한국 제한**: 자동차 경로 거의 불가

**결론**: 카카오맵이 가장 좋습니다! 🏆

---

## ⚠️ 주의사항

1. **API 키 노출 금지**
   - `.env` 파일은 절대 Git에 커밋하지 마세요
   - `.gitignore`에 `.env` 추가 확인

2. **대중교통**
   - 카카오맵은 대중교통 API를 제공하지 않습니다
   - Google Maps API fallback 사용

3. **자동차 경로**
   - 현재는 버튼을 제거했습니다
   - 필요 시 카카오 내비 API로 추가 가능

---

## 📚 참고 문서

- [카카오 Developers](https://developers.kakao.com/)
- [카카오맵 API 가이드](https://developers.kakao.com/docs/latest/ko/local/common)
- [Kakao Mobility API (내비)](https://developers.kakaomobility.com/)

---

## 🎯 FAQ

**Q: API 키가 없으면 작동하나요?**
A: 네, Google Maps fallback으로 작동합니다. 하지만 한국 경로는 부정확할 수 있습니다.

**Q: 하루 30만건이면 충분한가요?**
A: 개인 프로젝트는 매우 충분합니다. 경로 조회 1회 = 1건입니다.

**Q: 자동차 경로는 왜 없나요?**
A: Google Maps가 한국 자동차 경로를 거의 지원하지 않습니다. 카카오 내비 API로 추가 가능합니다.

---

**궁금한 점이 있으면 Issue를 남겨주세요!** 🚀

